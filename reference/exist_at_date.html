<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate data frame of records that exist each year — exist_at_date • BGSmartR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate data frame of records that exist each year — exist_at_date"><meta name="description" content="This function calculates which items in a collection are existing at a given date (or dates)."><meta property="og:description" content="This function calculates which items in a collection are existing at a given date (or dates)."><meta property="og:image" content="https://jake-powell.github.io/BGsmartR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BGSmartR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/BGsmartR.html">Using BGsmartR</a></li>
    <li><a class="dropdown-item" href="../articles/enrich_data.html">Enrichement databases</a></li>
    <li><a class="dropdown-item" href="../articles/Matching.html">Method of Matching taxonomic records</a></li>
    <li><a class="dropdown-item" href="../articles/value_of_items.html">Adding value to items in a collection</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate data frame of records that exist each year</h1>

      <div class="d-none name"><code>exist_at_date.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates which items in a collection are existing at a given date (or dates).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">exist_at_date</span><span class="op">(</span></span>
<span>  <span class="va">date</span>,</span>
<span>  <span class="va">AccessionYear</span>,</span>
<span>  <span class="va">ItemStatusDate</span>,</span>
<span>  <span class="va">ItemStatusType</span>,</span>
<span>  post_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-date">date<a class="anchor" aria-label="anchor" href="#arg-date"></a></dt>
<dd><p>dates in the format <code>YYYY-MM-DD</code> or <code>YYYY/MM/DD</code>.</p></dd>


<dt id="arg-accessionyear">AccessionYear<a class="anchor" aria-label="anchor" href="#arg-accessionyear"></a></dt>
<dd><p>The accession year of the records.</p></dd>


<dt id="arg-itemstatusdate">ItemStatusDate<a class="anchor" aria-label="anchor" href="#arg-itemstatusdate"></a></dt>
<dd><p>The data when the records were last updated.</p></dd>


<dt id="arg-itemstatustype">ItemStatusType<a class="anchor" aria-label="anchor" href="#arg-itemstatustype"></a></dt>
<dd><p>The status of the record when last updated. Either <code>Existing</code> or <code>NotExisting</code>.</p></dd>


<dt id="arg-post-date">post_date<a class="anchor" aria-label="anchor" href="#arg-post-date"></a></dt>
<dd><p>Set the date that existing plants in the LC are classed as alive until . Default is the present day.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data frame where each column corresponds to a date, each row an item in the collection. The (i,j)th value is a logical (TRUE/FALSE) corresponding whether the ith item existed at the jth date.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Accession date is inputted through <code>AccessionYear</code> which accepts only the year, for example <code>c(2014,2017,2015)</code>. The accession date is then set to the 1st of January in the given year.</p>
<p>Item death is calculated via the inputs <code>ItemStatusDate</code> and <code>ItemStatusType</code>. If the item is still alive (<code>ItemStatusType == 'Existing</code>) then the death date is set to today (<code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date()</a></code>). Otherwise the item is dead (<code>ItemStatusType == 'NotExisting</code>) and we use the corresponding date given in <code>ItemStatusDate</code>. If only the year is available in <code>ItemStatusDate</code> we set the date of death to the 31st of December that year. If only the month and year is available we set the day of the item death to be the 28th.</p>
<p><code>AccessionYear</code>, <code>ItemStatusDate</code> and <code>ItemStatusType</code> inputs must have the same length and the ith value in each corresponds to the ith item in the collection.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">exist_at_date</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2003-06-25'</span>, <span class="st">'2010-03-07'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>AccessionYear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'1956'</span>, <span class="st">'1988'</span>, <span class="st">'2005'</span>, <span class="st">'2018'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>ItemStatusDate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2004-01'</span>, <span class="st">'2010-03-05'</span>, <span class="st">'2022-04-08'</span>, <span class="st">'2022-08-19'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>ItemStatusType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'NotExisting'</span>,<span class="st">'NotExisting'</span>,<span class="st">'Existing'</span>,<span class="st">'Existing'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2003-06-25 2010-03-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       TRUE      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       TRUE      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      FALSE       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      FALSE      FALSE</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jake Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

